act you is senior dev top of world

droplet is 159.65.132.177

use aunji ssh key

you must build app to deploy on automate not ask me
and save coding log always in .md and when you come back to coding again please read log coding before think anything

üìÑ SOP_KPI_ATTENDANCE_SYSTEM_SPEC.md

Project Goal:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö (Mobile-First)
‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° SOP + KPI + Attendance (‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô/‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô) + Daily Report
‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô LINE ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢ (‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡∏•‡∏•‡∏≠‡∏£‡∏µ‡πà)

0. RULES (IMPORTANT)

‡∏´‡πâ‡∏≤‡∏°‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö

‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‡∏ó‡∏≥ Frontend + Backend + Database + API ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö

‡πÉ‡∏ä‡πâ Camera-only capture (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ gallery)

‡∏ó‡∏∏‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Mobile-first 100%

‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£

‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß, ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢, ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö user, anti-cheat)

‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏° deploy

1. SYSTEM OVERVIEW

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ 4 Core Modules:

Attendance System

‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô (‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ + GPS + ‡πÄ‡∏ß‡∏•‡∏≤)

‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô (‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ + GPS + ‡πÄ‡∏ß‡∏•‡∏≤)

‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô / ‡∏°‡∏≤‡∏™‡∏≤‡∏¢ / OT

‡∏î‡∏∂‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ KPI ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

SOP Management

SOP ‡∏Ñ‡∏£‡∏±‡∏ß

SOP ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£

SOP ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡∏≠‡∏á

SOP ‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡πÉ‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ

SOP ‡πÄ‡∏õ‡∏¥‡∏î‚Äì‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô

Checklist + ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Task ‚Üí ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì KPI

KPI Engine

KPI Attendance

KPI ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô

KPI ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏ï‡πä‡∏∞

KPI ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏á‡∏≤‡∏ô

KPI ‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô / ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô

Export PDF / Dashboard (Optional)

Daily Report

‡∏Ç‡∏≠‡∏á‡∏´‡∏°‡∏î

‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î

‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞

‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô

2. USER ROLES
Role	Permissions
Owner	Access all modules, KPI report, attendance, export
Manager	Approve tasks, verify attendance, view KPI
Staff (Kitchen)	‡∏î‡∏π SOP ‡∏Ñ‡∏£‡∏±‡∏ß, ‡∏•‡∏á‡∏á‡∏≤‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ
Staff (Service)	‡∏î‡∏π SOP ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£, ‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏ï‡πä‡∏∞, ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á
Staff (Cleaner)	SOP ‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏ô, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î
Staff (Cashier)	Daily report, ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô
3. FRONTEND PAGES (MOBILE FIRST)
3.1 Dashboard (Today Overview)

‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô

‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå

‡πÄ‡∏ß‡∏•‡∏≤‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: xx:xx‚Äìxx:xx

‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà:

‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô

‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô

‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:

‡∏°‡∏≤‡∏™‡∏≤‡∏¢‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ

‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

Section:

SOP ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ

Tasks ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥

‡∏™‡∏£‡∏∏‡∏õ KPI ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ

3.2 Attendance Page
Check-in Flow:

‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (capture="environment")

‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏´‡∏ô‡πâ‡∏≤/‡∏¢‡∏π‡∏ô‡∏¥‡∏ü‡∏≠‡∏£‡πå‡∏°

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ + GPS

‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß"

Check-out Flow:

‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á (optional)

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å

‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏ß‡∏°

‡∏°‡∏≤‡∏™‡∏≤‡∏¢‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ

OT ‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ

3.3 SOP List Page

Grouped by department:

Kitchen

‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠

‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô

‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ú‡∏±‡∏Å

‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏°

‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á

‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î

‡∏õ‡∏¥‡∏î‡∏Ñ‡∏£‡∏±‡∏ß

Service

‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏ï‡πä‡∏∞ 2 ‡∏ô‡∏≤‡∏ó‡∏µ

‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥

‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á

‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞

‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô

‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô

3.4 SOP Task Detail Page

‡∏ä‡∏∑‡πà‡∏≠ SOP

‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ (checkbox)

Timer (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡πÄ‡∏ä‡πà‡∏ô SOP ‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏ï‡πä‡∏∞)

‡∏õ‡∏∏‡πà‡∏° ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô

‡∏õ‡∏∏‡πà‡∏° ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

3.5 Daily Report Page

Fields:

‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡πâ‡∏≤‡∏ô‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?

‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏´‡∏°‡∏î?

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î OK ‡πÑ‡∏´‡∏°?

‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡πà‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏´‡∏°?

‡∏£‡∏π‡∏õ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡∏ñ‡πà‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á)

3.6 KPI Page
Daily KPI

Attendance Score

Task Completion Score

Speed Score

Quality Score

Total Score

Monthly KPI

‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏™‡∏≤‡∏¢ %

‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°

‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à %

‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏™‡πà‡∏á / ‡∏Ç‡∏≤‡∏î‡∏™‡πà‡∏á

4. CAMERA-ONLY IMAGE CAPTURE (REQUIRED)

‡πÉ‡∏ä‡πâ:

<input type="file" accept="image/*" capture="environment">


‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥:

‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡πÄ‡∏Å‡πà‡∏≤

‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö LINE WebView

‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö iOS/Android ‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:

‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡∏£‡∏π‡∏õ (compress >= 50%)

‡πÉ‡∏™‡πà timestamp watermark

‡πÉ‡∏™‡πà user_id ‡πÅ‡∏•‡∏∞ task_id ‡∏ö‡∏ô‡∏£‡∏π‡∏õ

‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Storage

5. DATABASE SCHEMA (COMPLETE)
5.1 employees
{
  "id": "uuid",
  "name": "string",
  "phone": "string",
  "role": "kitchen|service|cleaner|cashier|manager|owner",
  "avatar_url": "string",
  "line_user_id": "string",
  "active": true
}

5.2 shifts
{
  "id": "uuid",
  "employee_id": "uuid",
  "date": "date",
  "planned_start": "time",
  "planned_end": "time"
}

5.3 attendance_records
{
  "id": "uuid",
  "employee_id": "uuid",
  "shift_id": "uuid",
  "check_in_at": "datetime",
  "check_in_photo_url": "string",
  "check_in_lat": "float",
  "check_in_lng": "float",

  "check_out_at": "datetime",
  "check_out_photo_url": "string",
  "check_out_lat": "float",
  "check_out_lng": "float",

  "worked_minutes": "int",
  "late_minutes": "int",
  "overtime_minutes": "int",
  "attendance_score": "int"
}

5.4 sop_categories
{
  "id": "uuid",
  "name": "kitchen|service|cleaning|opening|closing"
}

5.5 sop_items
{
  "id": "uuid",
  "category_id": "uuid",
  "title": "string",
  "description": "text",
  "expected_minutes": "int",
  "require_photo": true
}

5.6 sop_steps
{
  "id": "uuid",
  "sop_item_id": "uuid",
  "step_number": "int",
  "content": "text"
}

5.7 task_records
{
  "id": "uuid",
  "employee_id": "uuid",
  "sop_item_id": "uuid",
  "timestamp": "datetime",
  "timer_seconds": "int",
  "photo_url": "string",
  "hash": "string",
  "score": "int"
}

5.8 daily_reports
{
  "id": "uuid",
  "employee_id": "uuid",
  "date": "date",
  "problems": "text",
  "out_of_stock": "text",
  "cleanliness": "text",
  "customer_complaints": "text",
  "photo_url": "string"
}

6. KPI FORMULA
6.1 Attendance Score
if late_minutes = 0 ‚Üí score = 10  
if late ‚â§ 5 min ‚Üí 8  
late ‚â§ 15 min ‚Üí 5  
late > 15 min ‚Üí 2  
absent ‚Üí 0

6.2 Task Score

Task ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à = 2 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô

‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á = 2

‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤ = +1

‡∏™‡πà‡∏á‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤ = -1

6.3 Total Daily KPI
total_score = attendance_score + task_score_sum

7. API SPEC
POST /attendance/check-in

‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤

‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ storage URL

return score ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß

POST /attendance/check-out

‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï OT/late

Return KPI summary

GET /sop/list

‡∏´‡∏°‡∏ß‡∏î ‚Üí ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ SOP

GET /sop/{id}

‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î + Steps

POST /task/submit

‡∏™‡πà‡∏á checklist

‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ

‡πÄ‡∏Å‡πá‡∏ö timer

‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô

POST /daily-report

‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô + ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢

GET /kpi/daily/{employee_id}
GET /kpi/monthly/{employee_id}
8. SECURITY RULES

‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏±‡∏®‡∏°‡∏µ‡∏£‡πâ‡∏≤‡∏ô (optional)

‡∏ï‡πâ‡∏≠‡∏á login ‡∏ú‡πà‡∏≤‡∏ô LINE

‡∏£‡∏π‡∏õ‡∏ó‡∏∏‡∏Å‡πÉ‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà timestamp watermark

‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å gallery

‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÄ‡∏ß‡∏•‡∏≤ client ‚Üí ‡∏ó‡∏∏‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ä‡πâ server time

9. DEPLOYMENT

‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ Stack:

Frontend: Next.js / React
Backend: Firebase Functions ‡∏´‡∏£‡∏∑‡∏≠ Laravel
Database: Firestore / Supabase / MySQL
Storage: Firebase Storage ‡∏´‡∏£‡∏∑‡∏≠ DO Spaces
Auth: LINE Login

‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:

PWA (‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)

Mobile-first UI

‡πÉ‡∏ä‡πâ‡∏ú‡πà‡∏≤‡∏ô LINE WebView ‡πÑ‡∏î‡πâ

10. TASK FOR DEVELOPER (CLAUDE)

‡πÉ‡∏´‡πâ Claude ‡∏ó‡∏≥‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≤‡∏°:

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á Frontend (Next.js App Router)

‡∏ó‡∏≥ UI Mobile-first ‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤

‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ (camera only)

‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö Login ‡∏î‡πâ‡∏ß‡∏¢ LINE

‡∏ó‡∏≥ Backend API ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö

‡∏ó‡∏≥ Database Schema

‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö KPI Engine

‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö Daily Report

‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö Attendance ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° KPI

Deploy ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Demo ‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

END OF FILE

SOP_KPI_ATTENDANCE_SYSTEM_SPEC.md
